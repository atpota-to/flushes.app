exports.id=568,exports.ids=[568],exports.modules={3695:(e,t,s)=>{Promise.resolve().then(s.bind(s,49690)),Promise.resolve().then(s.bind(s,32437)),Promise.resolve().then(s.bind(s,26441)),Promise.resolve().then(s.bind(s,99153)),Promise.resolve().then(s.bind(s,63371))},89522:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},32437:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(10326),r=s(17577);function o({children:e,fallback:t=null}){let[s,o]=(0,r.useState)(!1);return s?a.jsx(a.Fragment,{children:e}):a.jsx(a.Fragment,{children:t})}},26441:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(10326),r=s(17577),o=s(90434),n=s(46226),i=s(35047),l=s(12020),c=s.n(l),h=s(58137),u=s.n(h);function d(){let[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),[d,m]=(0,r.useState)("Search user @handle"),g=(0,r.useRef)(null),x=(0,r.useRef)(null),p=(0,i.useRouter)();(0,r.useRef)(null);let f=e=>{p.push(`/profile/${e.handle}`),h(!1),t("")};return(0,a.jsxs)("div",{className:u().searchContainer,children:[(0,a.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),e.trim()){let t=e.trim().startsWith("@")?e.trim().substring(1):e.trim();p.push(`/profile/${t}`),h(!1)}},className:u().searchForm,children:[a.jsx("input",{ref:x,type:"text",value:e,onChange:e=>t(e.target.value),placeholder:d,className:`${u().searchInput} font-regular`,"aria-label":"Search for a user profile"}),a.jsx("button",{type:"submit",className:`${u().searchButton} font-medium`,children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"11",cy:"11",r:"8"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]}),c&&a.jsx("div",{className:u().suggestionsContainer,ref:g,children:n?(0,a.jsxs)("div",{className:u().loadingContainer,children:[a.jsx("div",{className:u().loadingDot}),a.jsx("div",{className:u().loadingDot}),a.jsx("div",{className:u().loadingDot})]}):s.length>0?a.jsx("ul",{className:u().suggestionsList,children:s.map(e=>a.jsx("li",{className:u().suggestionItem,children:(0,a.jsxs)("button",{type:"button",className:u().suggestionButton,onClick:()=>f(e),children:[e.avatar?a.jsx("img",{src:e.avatar,alt:e.handle,className:u().avatar,width:28,height:28}):a.jsx("div",{className:u().avatarPlaceholder}),a.jsx("div",{className:u().suggestionInfo,children:(0,a.jsxs)("span",{className:`${u().handle} font-medium`,children:["@",e.handle]})})]})},e.did))}):a.jsx("div",{className:u().noResults,children:"No results found"})})]})}var m=s(63371),g=s(46290),x=s.n(g);let p=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"5"}),a.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),a.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),a.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),a.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),a.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),a.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),a.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),a.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),f=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),v=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),a.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]});function _(){let e;let[t,s]=(0,r.useState)(!1),[o,n]=(0,r.useState)("system");try{e=(0,m.F)()}catch(e){}return t?(0,a.jsxs)("button",{className:`${x().themeToggle} font-medium`,onClick:()=>{e&&("light"===o?(e.setTheme("dark"),n("dark")):"dark"===o?(e.setTheme("system"),n("system")):(e.setTheme("light"),n("light")))},"aria-label":`Switch to ${"light"===o?"dark":"dark"===o?"system":"light"} theme`,children:["light"===o?a.jsx(p,{}):"dark"===o?a.jsx(f,{}):a.jsx(v,{}),a.jsx("span",{className:`${x().themeLabel} font-medium`,children:"light"===o?"Lights On":"dark"===o?"Lights Off":"System Lights"})]}):(0,a.jsxs)("button",{className:`${x().themeToggle} font-medium`,"aria-label":"Theme toggle",children:[a.jsx(p,{}),a.jsx("span",{className:`${x().themeLabel} font-medium`,children:"Lights On"})]})}var y=s(99153);function j(){let e=(0,i.usePathname)(),{isAuthenticated:t,signOut:s,session:r}=(0,y.a)(),l=async()=>{await s()};return(0,a.jsxs)("nav",{className:c().navbar,children:[(0,a.jsxs)("div",{className:c().navStart,children:[a.jsx(o.default,{href:"/",className:c().logo,children:a.jsx(n.default,{src:"/flushes-logo-horizontal.png",alt:"Flushes Logo",width:200,height:53,priority:!0,className:c().logoImage})}),(0,a.jsxs)("div",{className:c().navLinks,children:[a.jsx(o.default,{href:"/",className:`${c().navLink} font-medium ${"/"===e?c().active:""}`,children:"Feed"}),a.jsx(o.default,{href:"/stats",className:`${c().navLink} font-medium ${"/stats"===e?c().active:""}`,children:"Stats"}),a.jsx(o.default,{href:"/shortcut",className:`${c().navLink} font-medium ${"/shortcut"===e?c().active:""}`,children:"Shortcut"}),a.jsx(o.default,{href:"/about",className:`${c().navLink} font-medium ${"/about"===e?c().active:""}`,children:"About"}),t&&null]})]}),(0,a.jsxs)("div",{className:c().secondRow,children:[a.jsx("div",{className:c().navSearch,children:a.jsx(d,{})}),(0,a.jsxs)("div",{className:c().navEnd,children:[a.jsx(_,{}),t?a.jsx("button",{onClick:l,className:`${c().authButton} font-medium`,children:"Logout"}):a.jsx(o.default,{href:"/auth/login",className:`${c().authButton} font-medium`,children:"Login"})]})]})]})}},99153:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>h,a:()=>u});var a=s(10326),r=s(17577);let o=new(s(12930)).BrowserOAuthClient({clientMetadata:{client_id:"https://flushes.app/client-metadata.json",application_type:"web",client_name:"Flushes",client_uri:"https://flushes.app",logo_uri:"https://flushes.app/logo.png",tos_uri:"https://flushes.app/terms",policy_uri:"https://flushes.app/privacy",dpop_bound_access_tokens:!0,grant_types:["authorization_code","refresh_token"],redirect_uris:["https://flushes.app/auth/callback"],response_types:["code"],scope:"atproto transition:generic",token_endpoint_auth_method:"none"},handleResolver:"https://bsky.social",responseMode:"fragment"});async function n(e,t){try{console.log(`Initiating OAuth flow for ${e}`),await o.signIn(e,{state:t?.state||`signin-${Date.now()}`,signal:t?.signal})}catch(e){throw console.error("OAuth sign in failed:",e),e}}async function i(e){try{console.log(`Restoring session for ${e}`);let t=await o.restore(e);return console.log(`Successfully restored session for ${t.sub}`),t}catch(t){throw console.error(`Failed to restore session for ${e}:`,t),t}}async function l(){try{console.log("Signing out user"),"undefined"!=typeof localStorage&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("did"),localStorage.removeItem("handle"),localStorage.removeItem("keyPair"),localStorage.removeItem("dpopNonce"),localStorage.removeItem("pdsEndpoint"),localStorage.removeItem("bsky_auth_pdsEndpoint")),console.log("User signed out")}catch(e){throw console.error("Error during sign out:",e),e}}let c=(0,r.createContext)(void 0);function h({children:e}){let[t,s]=(0,r.useState)(null),[o,h]=(0,r.useState)(!0),u={session:t,isAuthenticated:!!t,isLoading:o,signIn:async e=>{try{await n(e)}catch(e){throw console.error("Sign in failed:",e),e}},signOut:async()=>{try{await l(),s(null)}catch(e){throw console.error("Sign out failed:",e),e}},restoreSession:async e=>{try{let t=await i(e);return s(t),t}catch(e){throw console.error("Failed to restore session:",e),e}},accessToken:t?"available":null,refreshToken:t?"available":null,did:t?.sub||null,handle:null,pdsEndpoint:null};return a.jsx(c.Provider,{value:u,children:e})}function u(){let e=(0,r.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},63371:(e,t,s)=>{"use strict";s.d(t,{F:()=>l,ThemeProvider:()=>i});var a=s(10326),r=s(17577);let o={theme:"system",setTheme:()=>{}},n=(0,r.createContext)(o);function i({children:e}){let[t,s]=(0,r.useState)("system"),[i,l]=(0,r.useState)(!1);return a.jsx(n.Provider,{value:i?{theme:t,setTheme:s}:o,children:e})}function l(){return(0,r.useContext)(n)}},12020:e=>{e.exports={navbar:"NavigationBar_navbar___sCt7",navStart:"NavigationBar_navStart__5TUuk",navEnd:"NavigationBar_navEnd__nvGO6",navSearch:"NavigationBar_navSearch__zgfXx",secondRow:"NavigationBar_secondRow__OhkeH",logo:"NavigationBar_logo__vQNJd",logoImage:"NavigationBar_logoImage__iGztJ",navLinks:"NavigationBar_navLinks__omNwI",navLink:"NavigationBar_navLink__PLvAq",active:"NavigationBar_active__alj8w",authButton:"NavigationBar_authButton__cVaHE"}},58137:e=>{e.exports={searchContainer:"ProfileSearch_searchContainer__nkryP",searchForm:"ProfileSearch_searchForm__Rs543",searchInput:"ProfileSearch_searchInput__TJsTP",searchButton:"ProfileSearch_searchButton__AtwMw",suggestionsContainer:"ProfileSearch_suggestionsContainer__u1Ehi",suggestionsList:"ProfileSearch_suggestionsList__pCc7t",suggestionItem:"ProfileSearch_suggestionItem__M3kdV",suggestionButton:"ProfileSearch_suggestionButton__XgZKC",avatar:"ProfileSearch_avatar__mhRwa",avatarPlaceholder:"ProfileSearch_avatarPlaceholder__BnGoB",suggestionInfo:"ProfileSearch_suggestionInfo__iKQgP",displayName:"ProfileSearch_displayName__FGK0Y",handle:"ProfileSearch_handle__n7546",noResults:"ProfileSearch_noResults__dxeQv",loadingContainer:"ProfileSearch_loadingContainer__TSs7l",loadingDot:"ProfileSearch_loadingDot__hSDF_",dotPulse:"ProfileSearch_dotPulse__u_w4T"}},46290:e=>{e.exports={themeToggle:"ThemeToggle_themeToggle__4_hy9",themeLabel:"ThemeToggle_themeLabel__HmoV6"}},20357:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,dynamic:()=>h,metadata:()=>u});var a=s(19510);s(5023);var r=s(68570);let o=(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/lib/auth-context.tsx#AuthProvider`);(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/lib/auth-context.tsx#useAuth`);let n=(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/lib/theme-context.tsx#ThemeProvider`);(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/lib/theme-context.tsx#useTheme`);let i=(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/components/ClientOnly.tsx#default`),l=(0,r.createProxy)(String.raw`/Users/dame/Library/Mobile Documents/com~apple~CloudDocs/Software/flushes/app/src/components/NavigationBar.tsx#default`);var c=s(36674);let h="force-dynamic",u={title:"Flushes",description:"The world's first decentralized social media app for sharing the most universal human experience. Post your flushes and connect with other bathroom enjoyers.",other:{"shortcut-version":"1.0"},icons:{icon:"/favicon.png"},openGraph:{title:"Flushes",description:"The world's first decentralized social media app for sharing the most universal human experience. Post your flushes and connect with other bathroom enjoyers.",url:"https://flushes.app",siteName:"Flushes",images:[{url:"https://flushes.app/og-image.png",width:1200,height:630,alt:"Flushes"}],locale:"en_US",type:"website"},twitter:{card:"summary_large_image",title:"Flushes",description:"The world's first decentralized social media app for sharing the most universal human experience. Post your flushes and connect with other bathroom enjoyers.",images:["https://flushes.app/og-image.png"]}};function d({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[a.jsx("head",{children:a.jsx("link",{rel:"stylesheet",href:"https://use.typekit.net/gik3riw.css"})}),(0,a.jsxs)("body",{children:[a.jsx(o,{children:(0,a.jsxs)(n,{children:[a.jsx("header",{children:a.jsx(i,{children:a.jsx(l,{})})}),a.jsx("main",{children:e})]})}),a.jsx(c.c,{})]})]})}},5023:()=>{}};